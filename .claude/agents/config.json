{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Perdia Education Platform Subagent Configuration - Cross-Platform Compatible (Cursor + Antigravity)",
  "version": "2.0.0",
  "platform_compatibility": {
    "cursor": {
      "mcp_config": ".claude/mcp.json",
      "tool_prefix": "mcp__servername__",
      "example": "mcp__supabase__list_resources()"
    },
    "antigravity": {
      "mcp_config": "C:\\Users\\Disruptors\\.gemini\\antigravity\\mcp_config.json",
      "tool_prefix": "mcp0_, mcp1_, etc.",
      "example": "mcp0_list_tables({ project_id: 'yvvtsfgryweqfppilkvo' })"
    }
  },
  "agents": [
    {
      "name": "perdia-supabase-database-agent",
      "description": "Project-specific Supabase database management agent for Perdia Education platform",
      "triggers": {
        "keywords": [
          "database",
          "supabase",
          "postgres",
          "postgresql",
          "sql",
          "table",
          "schema",
          "migration",
          "rls",
          "row level security",
          "query",
          "index",
          "foreign key",
          "constraint",
          "trigger",
          "storage",
          "bucket",
          "upload",
          "auth",
          "authentication",
          "create table",
          "add column",
          "modify schema",
          "alter table",
          "optimize query",
          "add index",
          "improve performance",
          "set up storage",
          "create bucket",
          "configure auth",
          "add policy",
          "update rls",
          "migrate",
          "seed",
          "backup",
          "restore",
          "slow query",
          "performance issue",
          "timeout",
          "permission denied",
          "rls error",
          "403 error",
          "connection error",
          "database error",
          "query failed",
          "storage error",
          "upload failed",
          "bucket not found"
        ],
        "patterns": [
          ".*\\b(table|schema|database|supabase|postgres|migration|rls|query|index)\\b.*",
          ".*\\b(storage|bucket|upload|auth)\\b.*",
          ".*\\b(optimize|performance|slow)\\b.*"
        ],
        "automatic": true
      },
      "capabilities": [
        "schema_management",
        "rls_policy_management",
        "migration_creation",
        "sdk_integration",
        "performance_optimization",
        "storage_management",
        "documentation_maintenance",
        "proactive_suggestions"
      ],
      "mcp_integration": {
        "server": "supabase",
        "auto_use": true,
        "platform_notes": {
          "cursor": "Use mcp__supabase__ prefix for all tools",
          "antigravity": "Use mcp0_ prefix, always pass project_id parameter"
        },
        "commands": [
          "describe-table",
          "list-tables",
          "query",
          "execute-sql",
          "check-policies",
          "list-buckets",
          "bucket-info"
        ]
      },
      "project_specific": {
        "project": "Perdia Education",
        "supabase_project": "perdia",
        "tables": 16,
        "storage_buckets": 4,
        "sdk_location": "src/lib/perdia-sdk.js",
        "migration_location": "supabase/migrations/",
        "patterns": "Base44-compatible SDK, Centralized Supabase client"
      },
      "documentation": {
        "main": ".claude/agents/perdia-supabase-database-agent.md",
        "reference": "CLAUDE.md",
        "architecture": "ARCHITECTURE_GUIDE.md"
      },
      "priority": "high",
      "auto_invoke": true
    }
  ]
}