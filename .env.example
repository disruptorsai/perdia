# ============================================================================
# PERDIA EDUCATION PLATFORM - ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control
#
# This configuration supports the complete Perdia Education migration
# from Base44 to custom Supabase implementation.
# ============================================================================

# ============================================================================
# SUPABASE CONFIGURATION (REQUIRED)
# ============================================================================
# Get these from your Supabase project dashboard: https://supabase.com/dashboard

# Supabase project URL (e.g., https://abcdefghijklmnop.supabase.co)
VITE_SUPABASE_URL=your_supabase_project_url

# Supabase anonymous (public) key - safe for client-side use
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# Supabase service role key - NEVER expose to client, use only for admin operations
# Only needed for migration scripts and server-side operations
VITE_SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# ============================================================================
# AI / LLM CONFIGURATION (REQUIRED)
# ============================================================================
# The Perdia platform uses Claude (primary) and OpenAI (secondary) for content generation
#
# ‚ö†Ô∏è CRITICAL ARCHITECTURE NOTE:
# AI API keys are used by SUPABASE EDGE FUNCTIONS (server-side only, 400s timeout)
# These keys should NEVER have the VITE_ prefix in production
# VITE_* variables are PUBLIC (embedded in browser JavaScript)
#
# PRODUCTION (Supabase Edge Functions):
#   Set secrets via: npx supabase secrets set KEY=value --project-ref yvvtsfgryweqfppilkvo
#   Example: npx supabase secrets set ANTHROPIC_API_KEY=sk-ant-... --project-ref yvvtsfgryweqfppilkvo
#
# LOCAL DEVELOPMENT (.env.local):
#   You can use these variables for local testing, but they won't be used in production

# Anthropic Claude API Key (PRIMARY - for content generation)
# Get from: https://console.anthropic.com/
# Model: claude-sonnet-4-5-20250929 (Sonnet 4.5)
# Production: Set via Supabase secrets (see above)
# Local Dev: Set in .env.local for testing
ANTHROPIC_API_KEY=your_anthropic_api_key

# OpenAI API Key (SECONDARY - for specialized tasks and image generation)
# Get from: https://platform.openai.com/api-keys
# Models: gpt-4o (text), gpt-image-1 (images - NOT dall-e-3)
# Production: Set via Supabase secrets (see above)
# Local Dev: Set in .env.local for testing
OPENAI_API_KEY=your_openai_api_key

# ============================================================================
# PERDIA V2: NEW AI MODELS (OPTIONAL - V2 features)
# ============================================================================

# Grok API Key (xAI) - For content generation with X/Twitter context
# Get from: https://x.ai/ or https://console.x.ai/
# Grok provides more human-like writing with access to X/Twitter data
# Production: Set via Supabase secrets (NOT VITE_ - must be private!)
#   npx supabase secrets set GROK_API_KEY=xai-... --project-ref yvvtsfgryweqfppilkvo
# Local Dev: Set in .env.local for testing
GROK_API_KEY=your_grok_api_key

# Perplexity API Key - For fact-checking & citations
# Get from: https://www.perplexity.ai/settings/api
# Perplexity provides live web search and source citations
# Production: Set via Supabase secrets (NOT VITE_ - must be private!)
#   npx supabase secrets set PERPLEXITY_API_KEY=pplx-... --project-ref yvvtsfgryweqfppilkvo
# Local Dev: Set in .env.local for testing
PERPLEXITY_API_KEY=your_perplexity_api_key

# Default AI provider ('claude' | 'openai' | 'grok')
# This IS public (used by frontend to show UI defaults)
VITE_DEFAULT_AI_PROVIDER=claude

# ============================================================================
# DATAFORSEO API (Keyword Research & SEO Metrics)
# ============================================================================
# DataForSEO provides real-time keyword data, search volume, difficulty, trends
# Sign up: https://dataforseo.com/
# Documentation: https://docs.dataforseo.com/v3/

VITE_DATAFORSEO_LOGIN=your_dataforseo_login_email
VITE_DATAFORSEO_PASSWORD=your_dataforseo_password

# ============================================================================
# FILE STORAGE CONFIGURATION (OPTIONAL)
# ============================================================================
# Perdia uses Supabase Storage by default
# Cloudinary credentials are optional for advanced image optimization

# Cloudinary configuration (OPTIONAL - for advanced image optimization)
VITE_CLOUDINARY_CLOUD_NAME=
VITE_CLOUDINARY_API_KEY=
VITE_CLOUDINARY_API_SECRET=
VITE_CLOUDINARY_UPLOAD_PRESET=

# ============================================================================
# EMAIL SERVICE CONFIGURATION (OPTIONAL - NOT CURRENTLY USED)
# ============================================================================
# Email service is not actively used in current Perdia implementation
# Uncomment and configure if you want to enable email notifications

# Resend API Key (recommended)
# Get from: https://resend.com/api-keys
# VITE_RESEND_API_KEY=

# SendGrid API Key (alternative)
# Get from: https://app.sendgrid.com/settings/api_keys
# VITE_SENDGRID_API_KEY=

# Email sender configuration
# EMAIL_FROM_NAME=Perdia Education
# EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# ============================================================================
# WORDPRESS INTEGRATION (RUNTIME CONFIGURATION)
# ============================================================================
# WordPress credentials are stored in database (wordpress_connections table)
# No environment variables needed - configured in app UI

# ============================================================================
# GOOGLE SEARCH CONSOLE INTEGRATION (OPTIONAL)
# ============================================================================
# For fetching performance metrics directly from Google Search Console API
# Currently, metrics are manually uploaded or imported

# Google Search Console API Key (OPTIONAL)
# VITE_GOOGLE_SEARCH_CONSOLE_API_KEY=

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Environment mode (set by your environment: development, production, test)
# NODE_ENV is automatically set by your build system - no need to configure

# Application URL (for redirects, emails, etc.)
VITE_APP_URL=http://localhost:5173

# Port (Vite default is 5173)
PORT=5173

# ============================================================================
# NETLIFY CONFIGURATION (PRODUCTION DEPLOYMENT)
# ============================================================================
# These are automatically set by Netlify when deployed
# No need to configure manually - just set build settings in Netlify dashboard

# Build command: npm run build
# Publish directory: dist
# Functions directory: netlify/functions

# ============================================================================
# ANALYTICS & MONITORING (OPTIONAL)
# ============================================================================

# Google Analytics Measurement ID (OPTIONAL)
# VITE_GA_MEASUREMENT_ID=

# Sentry DSN for error tracking (OPTIONAL)
# VITE_SENTRY_DSN=

# ============================================================================
# FEATURE FLAGS (OPTIONAL)
# ============================================================================

# Enable/disable features during development (true or false)
VITE_ENABLE_SOCIAL_POSTING=true
VITE_ENABLE_IMAGE_GENERATION=true
VITE_ENABLE_TEAM_CHAT=true
VITE_ENABLE_DEBUG_MODE=false

# ============================================================================
# MIGRATION CONFIGURATION (TEMPORARY - FOR SETUP ONLY)
# ============================================================================
# These are only needed during initial migration/setup

# Base44 app ID (for reference only)
BASE44_APP_ID=68f7fb9301f466283d4de135

# Enable migration mode (shows migration helpers in UI)
VITE_MIGRATION_MODE=false

# ============================================================================
# DEVELOPMENT CONFIGURATION
# ============================================================================

# API request timeout (milliseconds)
VITE_API_TIMEOUT=30000

# Max file upload size (MB)
VITE_MAX_FILE_SIZE=10

# Enable verbose logging
VITE_DEBUG=false

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# CORS allowed origins (comma-separated)
# CORS_ORIGINS=http://localhost:5173,https://yourdomain.com

# Session timeout (minutes)
SESSION_TIMEOUT=60

# Maximum API rate limit (requests per minute)
# API_RATE_LIMIT=100

# ============================================================================
# NOTES & SETUP INSTRUCTIONS
# ============================================================================
#
# ‚ö†Ô∏è IMPORTANT: SECRETS ARCHITECTURE
# ===================================
# Perdia uses a SPLIT SECRETS model:
#
# 1. NETLIFY (Frontend Build) - ONLY VITE_* variables:
#    - VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY
#    - Feature flags (VITE_ENABLE_*)
#    - Public config (VITE_DEFAULT_AI_PROVIDER)
#
# 2. SUPABASE SECRETS (Backend Runtime) - NO VITE_* prefix:
#    - ANTHROPIC_API_KEY, OPENAI_API_KEY
#    - GROK_API_KEY, PERPLEXITY_API_KEY
#    - SUPABASE_SERVICE_ROLE_KEY
#    - Any other private API keys
#
# üìñ READ THIS FIRST: NETLIFY_SUPABASE_SECRETS_GUIDE.md
#    Comprehensive guide on what secrets go where and why
#
# ============================================================================
# REQUIRED VARIABLES (Minimum to Run)
# ============================================================================
#
# FOR LOCAL DEVELOPMENT (.env.local):
# - VITE_SUPABASE_URL (frontend)
# - VITE_SUPABASE_ANON_KEY (frontend)
# - ANTHROPIC_API_KEY (for local Edge Function testing)
# - OPENAI_API_KEY (for local Edge Function testing)
#
# FOR PRODUCTION:
# Netlify (frontend):
#   - VITE_SUPABASE_URL
#   - VITE_SUPABASE_ANON_KEY
#   - VITE_DEFAULT_AI_PROVIDER
#   - VITE_APP_URL
#
# Supabase Secrets (backend):
#   - ANTHROPIC_API_KEY
#   - OPENAI_API_KEY
#   Set via: npx supabase secrets set KEY=value --project-ref yvvtsfgryweqfppilkvo
#
# ============================================================================
# SETUP STEPS (First Time)
# ============================================================================
#
# 1. COPY ENVIRONMENT FILE:
#    cp .env.example .env.local
#
# 2. CONFIGURE SUPABASE:
#    - Login to: https://supabase.com/dashboard
#    - Select project: yvvtsfgryweqfppilkvo (Perdia)
#    - Go to Project Settings > API
#    - Copy VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to .env.local
#
# 3. ADD AI API KEYS (Local Dev):
#    - Claude: https://console.anthropic.com/
#    - OpenAI: https://platform.openai.com/api-keys
#    - Add to .env.local (for local testing only)
#
# 4. RUN SETUP:
#    npm install
#    npm run setup       # Runs migrations + seeds agents
#    npm run dev         # Start dev server
#
# 5. DEPLOY TO PRODUCTION:
#    a) Set Netlify variables (VITE_* only):
#       https://app.netlify.com/sites/perdia-education/configuration/env
#
#    b) Set Supabase secrets (NO VITE_* prefix):
#       npx supabase secrets set ANTHROPIC_API_KEY=sk-ant-... --project-ref yvvtsfgryweqfppilkvo
#       npx supabase secrets set OPENAI_API_KEY=sk-... --project-ref yvvtsfgryweqfppilkvo
#
#    c) Push to main branch (triggers Netlify deploy)
#
# ============================================================================
# SECURITY WARNINGS
# ============================================================================
#
# ‚ùå NEVER commit .env.local to Git
# ‚ùå NEVER add VITE_ prefix to API keys (exposes them to browser)
# ‚ùå NEVER put AI API keys in Netlify (use Supabase secrets)
# ‚ùå NEVER share your SUPABASE_SERVICE_ROLE_KEY (bypasses all security)
#
# ‚úÖ DO use different API keys for dev vs production
# ‚úÖ DO rotate keys every 90 days
# ‚úÖ DO set up billing alerts on Anthropic/OpenAI
#
# ============================================================================
# REFERENCE DOCUMENTATION
# ============================================================================
#
# - NETLIFY_SUPABASE_SECRETS_GUIDE.md - Complete secrets configuration guide
# - CLAUDE.md - Project architecture and patterns
# - README.md - Project overview and quick start
# - docs/ANTHROPIC_API_GUIDE.md - Claude API best practices
#
# ============================================================================
